<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" sizes="32x32" href="/uploads/images/favicon-32x32.png">
    <link rel="stylesheet" href="css/uikit.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/uikit.js"></script>
    <script src="js/uikit-icons.js"></script>

    <title>Roll With It</title>
    <style>
		/* The animation keyframes */
		@keyframes shake {
		  0% { transform: translate(1px, 1px) rotate(0deg); }
		  20% { transform: translate(-3px, 0px) rotate(-1deg); }
		  40% { transform: translate(3px, 2px) rotate(1deg); }
		  60% { transform: translate(-3px, 1px) rotate(-1deg); }
		  80% { transform: translate(3px, 1px) rotate(1deg); }
		  100% { transform: translate(1px, -2px) rotate(0deg); }
		}

		/* The class we will toggle with JS */
		.shaking {
		  display: inline-block; /* Required for transform to work */
		  animation: shake 0.5s; 
		}
		
        body { font-family: sans-serif; text-align: center; background: #2c3e50; color: white; }
        .game-container { margin-top: 50px; padding: 20px; border: 2px solid #ecf0f1; display: inline-block; border-radius: 10px; }
        .stats { display: flex; justify-content: space-around; margin-bottom: 20px; }
        .dice-area { font-size: 3rem; margin: 20px; }
        button { padding: 10px 20px; cursor: pointer; background: #27ae60; color: white; border: none; border-radius: 5px; }
        input { width: 60px; padding: 5px; }
    </style>
</head>
<body>

<div class="game-container">
    <h1>Dice Battle</h1>
    
    <div class="stats">
        <div>Player: $<span id="player-money">100</span></div>
        <div>Computer: $<span id="computer-money">100</span></div>
    </div>

    <div class="dice-area">
        <span id="player-die">ðŸŽ²</span> vs <span id="cpu-die">ðŸŽ²</span>
    </div>

    <p>Current Bet: $<input type="number" id="bet-amount" value="10" min="1"></p>
    <button onclick="playTurn()">Roll Dice!</button>
    <p id="message">Good luck!</p>
</div>

<script>
    let playerFunds = 100;
    let computerFunds = 100;

    function playTurn() {
		let bet = parseInt(document.getElementById('bet-amount').value);
		let msg = document.getElementById('message');
		let pDie = document.getElementById('player-die');
		let cDie = document.getElementById('cpu-die');

		pDie.classList.add('shaking');
		cDie.classList.add('shaking');

		pDie.innerText = "ðŸŽ²";
		cDie.innerText = "ðŸŽ²";

		setTimeout(() => {
			if (bet > playerFunds) { msg.innerText = "Insufficient funds!"; return; }
			if (bet > computerFunds) { bet = computerFunds; }

			let playerRoll = Math.floor(Math.random() * 6) + 1;
			let cpuRoll = Math.floor(Math.random() * 6) + 1;

			pDie.innerText = playerRoll;
			cDie.innerText = cpuRoll;

			pDie.classList.remove('shaking');
			cDie.classList.remove('shaking');

			if (playerRoll > cpuRoll) {
				playerFunds += bet; computerFunds -= bet;
				msg.innerText = `You won $${bet}!`;
			} else if (cpuRoll > playerRoll) {
				playerFunds -= bet; computerFunds += bet;
				msg.innerText = `Computer won $${bet}!`;
			} else {
				msg.innerText = "It's a draw!";
			}

			updateUI();
			checkGameOver();
		}, 500);
	}

    function updateUI() {
        document.getElementById('player-money').innerText = playerFunds;
        document.getElementById('computer-money').innerText = computerFunds;
    }

    function checkGameOver() {
        if (computerFunds <= 0) alert("You bankrupted the computer! Victory!");
        if (playerFunds <= 0) alert("You went broke! Game Over.");
    }
</script>
</body>
</html>